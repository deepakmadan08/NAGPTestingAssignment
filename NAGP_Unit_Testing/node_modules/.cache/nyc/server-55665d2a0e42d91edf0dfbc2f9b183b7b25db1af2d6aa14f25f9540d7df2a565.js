function cov_1nbcffmqdp(){var path="D:\\workspace\\NAGP_Unit_Testing\\server.js";var hash="882d4f6ca9bf6550a8841fbbef3e0f7ca1135f68";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\workspace\\NAGP_Unit_Testing\\server.js",statementMap:{"0":{start:{line:1,column:16},end:{line:1,column:34}},"1":{start:{line:2,column:12},end:{line:2,column:21}},"2":{start:{line:3,column:19},end:{line:3,column:41}},"3":{start:{line:4,column:13},end:{line:4,column:17}},"4":{start:{line:5,column:11},end:{line:5,column:41}},"5":{start:{line:7,column:0},end:{line:7,column:49}},"6":{start:{line:8,column:0},end:{line:8,column:27}},"7":{start:{line:11,column:0},end:{line:14,column:4}},"8":{start:{line:12,column:4},end:{line:12,column:60}},"9":{start:{line:13,column:4},end:{line:13,column:54}},"10":{start:{line:18,column:0},end:{line:25,column:4}},"11":{start:{line:19,column:4},end:{line:19,column:60}},"12":{start:{line:20,column:4},end:{line:20,column:29}},"13":{start:{line:21,column:4},end:{line:23,column:5}},"14":{start:{line:22,column:4},end:{line:22,column:74}},"15":{start:{line:24,column:4},end:{line:24,column:36}},"16":{start:{line:31,column:20},end:{line:31,column:30}},"17":{start:{line:32,column:21},end:{line:32,column:41}},"18":{start:{line:33,column:22},end:{line:33,column:44}},"19":{start:{line:34,column:4},end:{line:34,column:62}},"20":{start:{line:35,column:21},end:{line:35,column:56}},"21":{start:{line:36,column:4},end:{line:36,column:44}},"22":{start:{line:37,column:4},end:{line:37,column:49}},"23":{start:{line:38,column:4},end:{line:38,column:40}},"24":{start:{line:39,column:4},end:{line:39,column:40}},"25":{start:{line:46,column:0},end:{line:73,column:4}},"26":{start:{line:47,column:0},end:{line:73,column:1}},"27":{start:{line:48,column:4},end:{line:48,column:57}},"28":{start:{line:49,column:4},end:{line:49,column:58}},"29":{start:{line:50,column:15},end:{line:50,column:30}},"30":{start:{line:51,column:13},end:{line:51,column:26}},"31":{start:{line:52,column:4},end:{line:69,column:5}},"32":{start:{line:53,column:7},end:{line:53,column:85}},"33":{start:{line:54,column:27},end:{line:54,column:52}},"34":{start:{line:55,column:7},end:{line:55,column:34}},"35":{start:{line:56,column:7},end:{line:56,column:97}},"36":{start:{line:57,column:8},end:{line:64,column:9}},"37":{start:{line:58,column:12},end:{line:58,column:90}},"38":{start:{line:59,column:23},end:{line:59,column:53}},"39":{start:{line:60,column:12},end:{line:60,column:41}},"40":{start:{line:63,column:12},end:{line:63,column:96}},"41":{start:{line:65,column:10},end:{line:69,column:5}},"42":{start:{line:66,column:8},end:{line:66,column:97}},"43":{start:{line:68,column:8},end:{line:68,column:99}},"44":{start:{line:72,column:4},end:{line:72,column:104}},"45":{start:{line:80,column:0},end:{line:123,column:4}},"46":{start:{line:81,column:0},end:{line:122,column:5}},"47":{start:{line:82,column:4},end:{line:82,column:58}},"48":{start:{line:83,column:4},end:{line:83,column:68}},"49":{start:{line:84,column:15},end:{line:84,column:30}},"50":{start:{line:85,column:20},end:{line:85,column:40}},"51":{start:{line:86,column:4},end:{line:119,column:5}},"52":{start:{line:88,column:31},end:{line:88,column:66}},"53":{start:{line:89,column:28},end:{line:89,column:53}},"54":{start:{line:92,column:8},end:{line:92,column:94}},"55":{start:{line:93,column:8},end:{line:116,column:9}},"56":{start:{line:94,column:12},end:{line:94,column:65}},"57":{start:{line:95,column:12},end:{line:95,column:99}},"58":{start:{line:96,column:14},end:{line:116,column:9}},"59":{start:{line:97,column:12},end:{line:97,column:66}},"60":{start:{line:98,column:12},end:{line:98,column:96}},"61":{start:{line:99,column:14},end:{line:116,column:9}},"62":{start:{line:100,column:12},end:{line:100,column:93}},"63":{start:{line:101,column:12},end:{line:101,column:139}},"64":{start:{line:102,column:12},end:{line:102,column:46}},"65":{start:{line:103,column:12},end:{line:103,column:52}},"66":{start:{line:104,column:12},end:{line:104,column:116}},"67":{start:{line:105,column:12},end:{line:115,column:13}},"68":{start:{line:106,column:16},end:{line:106,column:69}},"69":{start:{line:107,column:16},end:{line:107,column:99}},"70":{start:{line:109,column:16},end:{line:109,column:66}},"71":{start:{line:110,column:27},end:{line:110,column:68}},"72":{start:{line:112,column:31},end:{line:112,column:73}},"73":{start:{line:113,column:16},end:{line:113,column:67}},"74":{start:{line:114,column:16},end:{line:114,column:103}},"75":{start:{line:118,column:8},end:{line:118,column:99}},"76":{start:{line:121,column:4},end:{line:121,column:104}},"77":{start:{line:130,column:0},end:{line:158,column:4}},"78":{start:{line:131,column:4},end:{line:131,column:58}},"79":{start:{line:132,column:4},end:{line:132,column:68}},"80":{start:{line:133,column:15},end:{line:133,column:30}},"81":{start:{line:134,column:20},end:{line:134,column:40}},"82":{start:{line:135,column:4},end:{line:157,column:5}},"83":{start:{line:137,column:32},end:{line:137,column:69}},"84":{start:{line:138,column:29},end:{line:138,column:54}},"85":{start:{line:141,column:9},end:{line:141,column:100}},"86":{start:{line:142,column:9},end:{line:154,column:10}},"87":{start:{line:143,column:12},end:{line:143,column:66}},"88":{start:{line:144,column:12},end:{line:144,column:96}},"89":{start:{line:145,column:14},end:{line:154,column:10}},"90":{start:{line:146,column:12},end:{line:146,column:90}},"91":{start:{line:147,column:12},end:{line:147,column:99}},"92":{start:{line:148,column:15},end:{line:154,column:10}},"93":{start:{line:149,column:12},end:{line:149,column:93}},"94":{start:{line:152,column:26},end:{line:152,column:72}},"95":{start:{line:153,column:12},end:{line:153,column:99}},"96":{start:{line:156,column:8},end:{line:156,column:99}},"97":{start:{line:160,column:0},end:{line:164,column:4}},"98":{start:{line:161,column:4},end:{line:161,column:43}},"99":{start:{line:162,column:22},end:{line:162,column:49}},"100":{start:{line:163,column:4},end:{line:163,column:38}},"101":{start:{line:166,column:0},end:{line:170,column:4}},"102":{start:{line:167,column:4},end:{line:167,column:43}},"103":{start:{line:168,column:21},end:{line:168,column:43}},"104":{start:{line:169,column:4},end:{line:169,column:37}},"105":{start:{line:174,column:4},end:{line:174,column:55}},"106":{start:{line:175,column:4},end:{line:175,column:30}},"107":{start:{line:180,column:4},end:{line:180,column:47}},"108":{start:{line:181,column:4},end:{line:181,column:30}},"109":{start:{line:186,column:4},end:{line:186,column:58}},"110":{start:{line:187,column:4},end:{line:187,column:35}},"111":{start:{line:192,column:4},end:{line:192,column:50}},"112":{start:{line:193,column:4},end:{line:193,column:38}},"113":{start:{line:198,column:4},end:{line:198,column:50}},"114":{start:{line:199,column:4},end:{line:199,column:42}},"115":{start:{line:204,column:4},end:{line:204,column:63}},"116":{start:{line:205,column:4},end:{line:205,column:46}},"117":{start:{line:210,column:4},end:{line:210,column:48}},"118":{start:{line:211,column:4},end:{line:211,column:48}},"119":{start:{line:214,column:0},end:{line:222,column:2}},"120":{start:{line:215,column:4},end:{line:215,column:57}},"121":{start:{line:216,column:4},end:{line:216,column:65}},"122":{start:{line:217,column:15},end:{line:217,column:30}},"123":{start:{line:218,column:20},end:{line:218,column:40}},"124":{start:{line:219,column:14},end:{line:219,column:60}},"125":{start:{line:220,column:4},end:{line:220,column:46}},"126":{start:{line:221,column:4},end:{line:221,column:91}},"127":{start:{line:225,column:4},end:{line:225,column:39}},"128":{start:{line:226,column:4},end:{line:226,column:51}},"129":{start:{line:230,column:4},end:{line:230,column:42}},"130":{start:{line:231,column:4},end:{line:231,column:55}},"131":{start:{line:234,column:0},end:{line:236,column:2}},"132":{start:{line:235,column:2},end:{line:235,column:66}},"133":{start:{line:238,column:0},end:{line:238,column:19}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:11,column:13},end:{line:11,column:14}},loc:{start:{line:11,column:27},end:{line:14,column:3}},line:11},"1":{name:"(anonymous_1)",decl:{start:{line:18,column:17},end:{line:18,column:18}},loc:{start:{line:18,column:31},end:{line:25,column:3}},line:18},"2":{name:"checkTime",decl:{start:{line:30,column:9},end:{line:30,column:18}},loc:{start:{line:30,column:20},end:{line:40,column:1}},line:30},"3":{name:"(anonymous_3)",decl:{start:{line:46,column:21},end:{line:46,column:22}},loc:{start:{line:46,column:41},end:{line:73,column:3}},line:46},"4":{name:"(anonymous_4)",decl:{start:{line:80,column:23},end:{line:80,column:24}},loc:{start:{line:80,column:43},end:{line:123,column:3}},line:80},"5":{name:"(anonymous_5)",decl:{start:{line:130,column:24},end:{line:130,column:25}},loc:{start:{line:130,column:44},end:{line:158,column:3}},line:130},"6":{name:"(anonymous_6)",decl:{start:{line:160,column:25},end:{line:160,column:26}},loc:{start:{line:160,column:45},end:{line:164,column:3}},line:160},"7":{name:"(anonymous_7)",decl:{start:{line:166,column:20},end:{line:166,column:21}},loc:{start:{line:166,column:40},end:{line:170,column:3}},line:166},"8":{name:"getUserFundByUserID",decl:{start:{line:173,column:9},end:{line:173,column:28}},loc:{start:{line:173,column:32},end:{line:176,column:1}},line:173},"9":{name:"getUserByID",decl:{start:{line:179,column:9},end:{line:179,column:20}},loc:{start:{line:179,column:24},end:{line:182,column:1}},line:179},"10":{name:"addUserFund",decl:{start:{line:185,column:9},end:{line:185,column:20}},loc:{start:{line:185,column:29},end:{line:188,column:1}},line:185},"11":{name:"deductUserFund",decl:{start:{line:191,column:9},end:{line:191,column:23}},loc:{start:{line:191,column:32},end:{line:194,column:1}},line:191},"12":{name:"getCompanyByName",decl:{start:{line:197,column:9},end:{line:197,column:25}},loc:{start:{line:197,column:38},end:{line:200,column:1}},line:197},"13":{name:"getUserCompanyByID",decl:{start:{line:203,column:9},end:{line:203,column:27}},loc:{start:{line:203,column:40},end:{line:206,column:1}},line:203},"14":{name:"getFundByCompanyName",decl:{start:{line:209,column:9},end:{line:209,column:29}},loc:{start:{line:209,column:42},end:{line:212,column:1}},line:209},"15":{name:"(anonymous_15)",decl:{start:{line:214,column:27},end:{line:214,column:28}},loc:{start:{line:214,column:47},end:{line:222,column:1}},line:214},"16":{name:"addCompanyToUser",decl:{start:{line:224,column:9},end:{line:224,column:25}},loc:{start:{line:224,column:45},end:{line:227,column:1}},line:224},"17":{name:"deletCompanyFromUser",decl:{start:{line:229,column:9},end:{line:229,column:29}},loc:{start:{line:229,column:49},end:{line:232,column:1}},line:229},"18":{name:"(anonymous_18)",decl:{start:{line:234,column:17},end:{line:234,column:18}},loc:{start:{line:234,column:23},end:{line:236,column:1}},line:234}},branchMap:{"0":{loc:{start:{line:21,column:4},end:{line:23,column:5}},type:"if",locations:[{start:{line:21,column:4},end:{line:23,column:5}},{start:{line:21,column:4},end:{line:23,column:5}}],line:21},"1":{loc:{start:{line:35,column:21},end:{line:35,column:56}},type:"binary-expr",locations:[{start:{line:35,column:22},end:{line:35,column:35}},{start:{line:35,column:41},end:{line:35,column:55}}],line:35},"2":{loc:{start:{line:37,column:17},end:{line:37,column:48}},type:"binary-expr",locations:[{start:{line:37,column:17},end:{line:37,column:30}},{start:{line:37,column:34},end:{line:37,column:48}}],line:37},"3":{loc:{start:{line:39,column:12},end:{line:39,column:37}},type:"binary-expr",locations:[{start:{line:39,column:12},end:{line:39,column:23}},{start:{line:39,column:27},end:{line:39,column:37}}],line:39},"4":{loc:{start:{line:47,column:0},end:{line:73,column:1}},type:"if",locations:[{start:{line:47,column:0},end:{line:73,column:1}},{start:{line:47,column:0},end:{line:73,column:1}}],line:47},"5":{loc:{start:{line:52,column:4},end:{line:69,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:69,column:5}},{start:{line:52,column:4},end:{line:69,column:5}}],line:52},"6":{loc:{start:{line:52,column:8},end:{line:52,column:57}},type:"binary-expr",locations:[{start:{line:52,column:8},end:{line:52,column:25}},{start:{line:52,column:29},end:{line:52,column:44}},{start:{line:52,column:49},end:{line:52,column:57}}],line:52},"7":{loc:{start:{line:57,column:8},end:{line:64,column:9}},type:"if",locations:[{start:{line:57,column:8},end:{line:64,column:9}},{start:{line:57,column:8},end:{line:64,column:9}}],line:57},"8":{loc:{start:{line:65,column:10},end:{line:69,column:5}},type:"if",locations:[{start:{line:65,column:10},end:{line:69,column:5}},{start:{line:65,column:10},end:{line:69,column:5}}],line:65},"9":{loc:{start:{line:81,column:0},end:{line:122,column:5}},type:"if",locations:[{start:{line:81,column:0},end:{line:122,column:5}},{start:{line:81,column:0},end:{line:122,column:5}}],line:81},"10":{loc:{start:{line:86,column:4},end:{line:119,column:5}},type:"if",locations:[{start:{line:86,column:4},end:{line:119,column:5}},{start:{line:86,column:4},end:{line:119,column:5}}],line:86},"11":{loc:{start:{line:86,column:8},end:{line:86,column:51}},type:"binary-expr",locations:[{start:{line:86,column:8},end:{line:86,column:25}},{start:{line:86,column:29},end:{line:86,column:51}}],line:86},"12":{loc:{start:{line:93,column:8},end:{line:116,column:9}},type:"if",locations:[{start:{line:93,column:8},end:{line:116,column:9}},{start:{line:93,column:8},end:{line:116,column:9}}],line:93},"13":{loc:{start:{line:96,column:14},end:{line:116,column:9}},type:"if",locations:[{start:{line:96,column:14},end:{line:116,column:9}},{start:{line:96,column:14},end:{line:116,column:9}}],line:96},"14":{loc:{start:{line:99,column:14},end:{line:116,column:9}},type:"if",locations:[{start:{line:99,column:14},end:{line:116,column:9}},{start:{line:99,column:14},end:{line:116,column:9}}],line:99},"15":{loc:{start:{line:99,column:18},end:{line:99,column:73}},type:"binary-expr",locations:[{start:{line:99,column:18},end:{line:99,column:45}},{start:{line:99,column:49},end:{line:99,column:73}}],line:99},"16":{loc:{start:{line:105,column:12},end:{line:115,column:13}},type:"if",locations:[{start:{line:105,column:12},end:{line:115,column:13}},{start:{line:105,column:12},end:{line:115,column:13}}],line:105},"17":{loc:{start:{line:135,column:4},end:{line:157,column:5}},type:"if",locations:[{start:{line:135,column:4},end:{line:157,column:5}},{start:{line:135,column:4},end:{line:157,column:5}}],line:135},"18":{loc:{start:{line:135,column:8},end:{line:135,column:51}},type:"binary-expr",locations:[{start:{line:135,column:8},end:{line:135,column:25}},{start:{line:135,column:29},end:{line:135,column:51}}],line:135},"19":{loc:{start:{line:142,column:9},end:{line:154,column:10}},type:"if",locations:[{start:{line:142,column:9},end:{line:154,column:10}},{start:{line:142,column:9},end:{line:154,column:10}}],line:142},"20":{loc:{start:{line:145,column:14},end:{line:154,column:10}},type:"if",locations:[{start:{line:145,column:14},end:{line:154,column:10}},{start:{line:145,column:14},end:{line:154,column:10}}],line:145},"21":{loc:{start:{line:148,column:15},end:{line:154,column:10}},type:"if",locations:[{start:{line:148,column:15},end:{line:154,column:10}},{start:{line:148,column:15},end:{line:154,column:10}}],line:148},"22":{loc:{start:{line:148,column:19},end:{line:148,column:74}},type:"binary-expr",locations:[{start:{line:148,column:19},end:{line:148,column:46}},{start:{line:148,column:50},end:{line:148,column:74}}],line:148}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"882d4f6ca9bf6550a8841fbbef3e0f7ca1135f68"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1nbcffmqdp=function(){return actualCoverage;};}return actualCoverage;}cov_1nbcffmqdp();const express=(cov_1nbcffmqdp().s[0]++,require('express'));const app=(cov_1nbcffmqdp().s[1]++,express());const bodyParser=(cov_1nbcffmqdp().s[2]++,require('body-parser'));const port=(cov_1nbcffmqdp().s[3]++,3010);const db=(cov_1nbcffmqdp().s[4]++,require("./db/CRUDoperations"));cov_1nbcffmqdp().s[5]++;app.use(bodyParser.urlencoded({extended:false}));cov_1nbcffmqdp().s[6]++;app.use(bodyParser.json());//Base URL to check Server Status 
cov_1nbcffmqdp().s[7]++;app.get('/',(req,res)=>{cov_1nbcffmqdp().f[0]++;cov_1nbcffmqdp().s[8]++;console.log(`Base URL Hit - Server is UP and Running.`);cov_1nbcffmqdp().s[9]++;res.status(200).send("Server is UP and Running.");});//Base URL to check Server Status 
cov_1nbcffmqdp().s[10]++;app.get('/date',(req,res)=>{cov_1nbcffmqdp().f[1]++;cov_1nbcffmqdp().s[11]++;console.log(`Base URL Hit - Server is UP and Running.`);cov_1nbcffmqdp().s[12]++;console.log(checkTime());cov_1nbcffmqdp().s[13]++;if(checkTime()){cov_1nbcffmqdp().b[0][0]++;cov_1nbcffmqdp().s[14]++;console.log(`Base URL Hit - Server is UP and Running.`+checkTime());}else{cov_1nbcffmqdp().b[0][1]++;}cov_1nbcffmqdp().s[15]++;res.status(200).json({"1":"1"});});//Function to check 9 to 5 Weekday 
function checkTime(){cov_1nbcffmqdp().f[2]++;let currentDate=(cov_1nbcffmqdp().s[16]++,new Date());var currentDay=(cov_1nbcffmqdp().s[17]++,currentDate.getDay());var currentHour=(cov_1nbcffmqdp().s[18]++,currentDate.getHours());cov_1nbcffmqdp().s[19]++;console.log("is Week Day ? "+currentDay+" "+currentHour);var isValidDay=(cov_1nbcffmqdp().s[20]++,(cov_1nbcffmqdp().b[1][0]++,currentDay>2)||(cov_1nbcffmqdp().b[1][1]++,currentDay<6));// 6 = Saturday, 0 = Sunday
cov_1nbcffmqdp().s[21]++;console.log("is Week Day ? "+isValidDay);cov_1nbcffmqdp().s[22]++;isValidTime=(cov_1nbcffmqdp().b[2][0]++,currentHour>9)&&(cov_1nbcffmqdp().b[2][1]++,currentHour<24);cov_1nbcffmqdp().s[23]++;console.log("is 9-5 ? "+isValidTime);cov_1nbcffmqdp().s[24]++;return(cov_1nbcffmqdp().b[3][0]++,isValidTime)&&(cov_1nbcffmqdp().b[3][1]++,isValidDay);}//Functionality to Add funds 
/* 1.Request must have User id and valid Fund value.
   2.Funds can't be negative.
*/cov_1nbcffmqdp().s[25]++;app.post('/addFund',async(req,res)=>{cov_1nbcffmqdp().f[3]++;cov_1nbcffmqdp().s[26]++;if(checkTime()){cov_1nbcffmqdp().b[4][0]++;cov_1nbcffmqdp().s[27]++;console.log('Requested User ID ='+req.body.userID);cov_1nbcffmqdp().s[28]++;console.log('Requested User fund = '+req.body.fund);let userID=(cov_1nbcffmqdp().s[29]++,req.body.userID);let fund=(cov_1nbcffmqdp().s[30]++,req.body.fund);cov_1nbcffmqdp().s[31]++;if((cov_1nbcffmqdp().b[6][0]++,userID!=undefined)&&(cov_1nbcffmqdp().b[6][1]++,fund!=undefined)&&(cov_1nbcffmqdp().b[6][2]++,fund>0)){cov_1nbcffmqdp().b[5][0]++;cov_1nbcffmqdp().s[32]++;console.log('Valid Request and Parameter, Checking the User ID in Database.');const doesUserExist=(cov_1nbcffmqdp().s[33]++,await getUserByID(userID));cov_1nbcffmqdp().s[34]++;console.log(doesUserExist);cov_1nbcffmqdp().s[35]++;console.log('Updating User with User ID:'+userID+' Adding Funds '+doesUserExist[0]);cov_1nbcffmqdp().s[36]++;if(doesUserExist[0]!=undefined){cov_1nbcffmqdp().b[7][0]++;cov_1nbcffmqdp().s[37]++;console.log('Updating User with User ID:'+userID+' Adding Funds '+fund);const user=(cov_1nbcffmqdp().s[38]++,await addUserFund(userID,fund));cov_1nbcffmqdp().s[39]++;res.status(200).json({user});}else{cov_1nbcffmqdp().b[7][1]++;cov_1nbcffmqdp().s[40]++;res.status(400).json({"error":"No User with this User ID","requestBody":req.body});}}else{cov_1nbcffmqdp().b[5][1]++;cov_1nbcffmqdp().s[41]++;if(fund<0){cov_1nbcffmqdp().b[8][0]++;cov_1nbcffmqdp().s[42]++;res.status(400).json({"error":"Fund value can not be negative","requestBody":req.body});}else{cov_1nbcffmqdp().b[8][1]++;cov_1nbcffmqdp().s[43]++;res.status(400).json({"error":"Request has incorrect parameters","requestBody":req.body});}}}else{cov_1nbcffmqdp().b[4][1]++;cov_1nbcffmqdp().s[44]++;res.status(400).json({"error":"Market is open during Mon-Fri ,9 AM -5 PM","requestBody":req.body});}});//API to Buy a company
/* 1.Valid User id 
   2.Valid Company Name
   3.Funds Should be enough for company */cov_1nbcffmqdp().s[45]++;app.post('/buyEquity',async(req,res)=>{cov_1nbcffmqdp().f[4]++;cov_1nbcffmqdp().s[46]++;if(checkTime()){cov_1nbcffmqdp().b[9][0]++;cov_1nbcffmqdp().s[47]++;console.log('Requested User ID = '+req.body.userID);cov_1nbcffmqdp().s[48]++;console.log('Requested Company Name = '+req.body.companyName);let userID=(cov_1nbcffmqdp().s[49]++,req.body.userID);let companyName=(cov_1nbcffmqdp().s[50]++,req.body.companyName);cov_1nbcffmqdp().s[51]++;if((cov_1nbcffmqdp().b[11][0]++,userID!=undefined)&&(cov_1nbcffmqdp().b[11][1]++,companyName!=undefined)){cov_1nbcffmqdp().b[10][0]++;// Checking if Company and User exist in database
const doesCompanyExist=(cov_1nbcffmqdp().s[52]++,await getCompanyByName(companyName));const doesUserExist=(cov_1nbcffmqdp().s[53]++,await getUserByID(userID));let userFund;let companyPrice;cov_1nbcffmqdp().s[54]++;console.log('Finding User with User ID:'+userID+' Adding Company '+companyName);cov_1nbcffmqdp().s[55]++;if(doesCompanyExist[0]==undefined){cov_1nbcffmqdp().b[12][0]++;cov_1nbcffmqdp().s[56]++;console.log('Company ID does not exist in Database');cov_1nbcffmqdp().s[57]++;res.status(400).json({"error":"No Company with requested ID","requestBody":req.body});}else{cov_1nbcffmqdp().b[12][1]++;cov_1nbcffmqdp().s[58]++;if(doesUserExist[0]==undefined){cov_1nbcffmqdp().b[13][0]++;cov_1nbcffmqdp().s[59]++;console.log('No User with this ID exist in Database');cov_1nbcffmqdp().s[60]++;res.status(400).json({"error":"No User with requested ID","requestBody":req.body});}else{cov_1nbcffmqdp().b[13][1]++;cov_1nbcffmqdp().s[61]++;if((cov_1nbcffmqdp().b[15][0]++,doesCompanyExist!=undefined)&&(cov_1nbcffmqdp().b[15][1]++,doesUserExist!=undefined)){cov_1nbcffmqdp().b[14][0]++;cov_1nbcffmqdp().s[62]++;console.log('Valid User ID:'+userID+' and Company with name '+companyName);cov_1nbcffmqdp().s[63]++;console.log('Checking User Fund with User ID:'+doesUserExist[0].Balance+'with Company Price'+doesCompanyExist[0].Price);cov_1nbcffmqdp().s[64]++;userFund=doesUserExist[0].Balance;cov_1nbcffmqdp().s[65]++;companyPrice=doesCompanyExist[0].Price;cov_1nbcffmqdp().s[66]++;console.log('Checking User Fund By Userid = '+userFund+",Company Price ="+doesCompanyExist[0].Price);cov_1nbcffmqdp().s[67]++;if(userFund<companyPrice){cov_1nbcffmqdp().b[16][0]++;cov_1nbcffmqdp().s[68]++;console.log('User fund is less than company Price ');cov_1nbcffmqdp().s[69]++;res.status(400).json({"error":"User fund is not enough ","requestBody":req.body});}else{cov_1nbcffmqdp().b[16][1]++;cov_1nbcffmqdp().s[70]++;console.log('User has enough fund to buy equity');const user=(cov_1nbcffmqdp().s[71]++,await deductUserFund(userID,companyPrice));//Add compnay to user Companies.
let isSuccess=(cov_1nbcffmqdp().s[72]++,await addCompanyToUser(userID,companyName));cov_1nbcffmqdp().s[73]++;console.log(`Addding company to user`+isSuccess);cov_1nbcffmqdp().s[74]++;res.status(200).json({"Success":"Request has been processed","requestBody":req.body});}}else{cov_1nbcffmqdp().b[14][1]++;}}}}else{cov_1nbcffmqdp().b[10][1]++;cov_1nbcffmqdp().s[75]++;res.status(400).json({"error":"Request has incorrect parameters","requestBody":req.body});}}else{cov_1nbcffmqdp().b[9][1]++;cov_1nbcffmqdp().s[76]++;res.status(400).json({"error":"Market is open during Mon-Fri ,9 AM -5 PM","requestBody":req.body});}});//API to sell a company
/* 1.Valid User id 
   2.User Should have Company to sell
*/cov_1nbcffmqdp().s[77]++;app.post('/sellEquity',async(req,res)=>{cov_1nbcffmqdp().f[5]++;cov_1nbcffmqdp().s[78]++;console.log('Requested User ID = '+req.body.userID);cov_1nbcffmqdp().s[79]++;console.log('Requested Company Name = '+req.body.companyName);let userID=(cov_1nbcffmqdp().s[80]++,req.body.userID);let companyName=(cov_1nbcffmqdp().s[81]++,req.body.companyName);cov_1nbcffmqdp().s[82]++;if((cov_1nbcffmqdp().b[18][0]++,userID!=undefined)&&(cov_1nbcffmqdp().b[18][1]++,companyName!=undefined)){cov_1nbcffmqdp().b[17][0]++;// Checking if Company and user Exist
const doesCompanyExist=(cov_1nbcffmqdp().s[83]++,await getUserCompanyByID(companyName));const doesUserExist=(cov_1nbcffmqdp().s[84]++,await getUserByID(userID));let userFund;let companyPrice;cov_1nbcffmqdp().s[85]++;console.log('Finding User with User ID:'+userID+' and Company by Name '+companyName);cov_1nbcffmqdp().s[86]++;if(doesUserExist[0]==undefined){cov_1nbcffmqdp().b[19][0]++;cov_1nbcffmqdp().s[87]++;console.log('No User with this ID exist in Database');cov_1nbcffmqdp().s[88]++;res.status(400).json({"error":"No User with requested ID","requestBody":req.body});}else{cov_1nbcffmqdp().b[19][1]++;cov_1nbcffmqdp().s[89]++;if(doesCompanyExist[0]==undefined){cov_1nbcffmqdp().b[20][0]++;cov_1nbcffmqdp().s[90]++;console.log('User doesnt have this company in his list so he cant sell this');cov_1nbcffmqdp().s[91]++;res.status(400).json({"error":"No Company with requested ID","requestBody":req.body});}else{cov_1nbcffmqdp().b[20][1]++;cov_1nbcffmqdp().s[92]++;if((cov_1nbcffmqdp().b[22][0]++,doesCompanyExist!=undefined)&&(cov_1nbcffmqdp().b[22][1]++,doesUserExist!=undefined)){cov_1nbcffmqdp().b[21][0]++;cov_1nbcffmqdp().s[93]++;console.log('Valid User ID:'+userID+' and Company with name '+companyName);// Remove company from user List
let isSuccess=(cov_1nbcffmqdp().s[94]++,await deletCompanyFromUser(userID,companyName));cov_1nbcffmqdp().s[95]++;res.status(200).json({"Success":"Request has been processed","requestBody":req.body});}else{cov_1nbcffmqdp().b[21][1]++;}}}}else{cov_1nbcffmqdp().b[17][1]++;cov_1nbcffmqdp().s[96]++;res.status(400).json({"error":"Request has incorrect parameters","requestBody":req.body});}});cov_1nbcffmqdp().s[97]++;app.get('/userCompanies',async(req,res)=>{cov_1nbcffmqdp().f[6]++;cov_1nbcffmqdp().s[98]++;console.log(`Getting all the records`);const companies=(cov_1nbcffmqdp().s[99]++,await db.getUserCompanies());cov_1nbcffmqdp().s[100]++;res.status(200).json({companies});});cov_1nbcffmqdp().s[101]++;app.get('/userFund',async(req,res)=>{cov_1nbcffmqdp().f[7]++;cov_1nbcffmqdp().s[102]++;console.log(`Getting all the records`);const userFund=(cov_1nbcffmqdp().s[103]++,await db.getuserFund());cov_1nbcffmqdp().s[104]++;res.status(200).json({userFund});});//Function to get User Fund
function getUserFundByUserID(id){cov_1nbcffmqdp().f[8]++;cov_1nbcffmqdp().s[105]++;console.log(`Function getUserFundByUserID called`);cov_1nbcffmqdp().s[106]++;return db.getUserByID(id);}//Function to check if a user exits or not in DB 
function getUserByID(id){cov_1nbcffmqdp().f[9]++;cov_1nbcffmqdp().s[107]++;console.log(`Function getUserByID called`);cov_1nbcffmqdp().s[108]++;return db.getUserByID(id);}//Add Funds to User Balance
function addUserFund(ID,fund){cov_1nbcffmqdp().f[10]++;cov_1nbcffmqdp().s[109]++;console.log(`Function addUserFund called`+ID+fund);cov_1nbcffmqdp().s[110]++;return db.addUserFund(ID,fund);}//Deduct Funds from User Balance
function deductUserFund(ID,fund){cov_1nbcffmqdp().f[11]++;cov_1nbcffmqdp().s[111]++;console.log(`Function deductUserFund called`);cov_1nbcffmqdp().s[112]++;return db.deductUserFund(ID,fund);}//Function to check if a company exits or not in DB 
function getCompanyByName(companyName){cov_1nbcffmqdp().f[12]++;cov_1nbcffmqdp().s[113]++;console.log(`Function getCompanyByID called`);cov_1nbcffmqdp().s[114]++;return db.getCompanyByID(companyName);}//Function to check if a user has the company to sell
function getUserCompanyByID(companyName){cov_1nbcffmqdp().f[13]++;cov_1nbcffmqdp().s[115]++;console.log(`Function getCompanyByIDUserCompanies called`);cov_1nbcffmqdp().s[116]++;return db.getUserCompanyByID(companyName);}// Function to get fund of a company
function getFundByCompanyName(companyName){cov_1nbcffmqdp().f[14]++;cov_1nbcffmqdp().s[117]++;console.log(`Get Fund By Company Function`);cov_1nbcffmqdp().s[118]++;return db.getFundByCompanyName(companyName);}cov_1nbcffmqdp().s[119]++;app.post('/deleteCompany',async(req,res)=>{cov_1nbcffmqdp().f[15]++;cov_1nbcffmqdp().s[120]++;console.log('Requested User ID ='+req.body.userID);cov_1nbcffmqdp().s[121]++;console.log('Requested User fund = '+req.body.companyName);let userID=(cov_1nbcffmqdp().s[122]++,req.body.userID);let companyName=(cov_1nbcffmqdp().s[123]++,req.body.companyName);let fund=(cov_1nbcffmqdp().s[124]++,await deletCompanyFromUser(userID,companyName));cov_1nbcffmqdp().s[125]++;console.log(`Add company to user`+fund);cov_1nbcffmqdp().s[126]++;res.status(200).json({"Success":"Request has been processed","requestBody":req.body});});function addCompanyToUser(userID,companyName){cov_1nbcffmqdp().f[16]++;cov_1nbcffmqdp().s[127]++;console.log(`Add company to user`);cov_1nbcffmqdp().s[128]++;return db.addCompanyToUser(userID,companyName);}function deletCompanyFromUser(userID,companyName){cov_1nbcffmqdp().f[17]++;cov_1nbcffmqdp().s[129]++;console.log(`Delete company to user`);cov_1nbcffmqdp().s[130]++;return db.deletCompanyFromUser(userID,companyName);}cov_1nbcffmqdp().s[131]++;app.listen(port,()=>{cov_1nbcffmqdp().f[18]++;cov_1nbcffmqdp().s[132]++;console.log(`Example app listening at http://localhost:${port}`);});cov_1nbcffmqdp().s[133]++;module.exports=app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImFwcCIsImJvZHlQYXJzZXIiLCJwb3J0IiwiZGIiLCJ1c2UiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJqc29uIiwiZ2V0IiwicmVxIiwicmVzIiwiY29uc29sZSIsImxvZyIsInN0YXR1cyIsInNlbmQiLCJjaGVja1RpbWUiLCJjdXJyZW50RGF0ZSIsIkRhdGUiLCJjdXJyZW50RGF5IiwiZ2V0RGF5IiwiY3VycmVudEhvdXIiLCJnZXRIb3VycyIsImlzVmFsaWREYXkiLCJpc1ZhbGlkVGltZSIsInBvc3QiLCJib2R5IiwidXNlcklEIiwiZnVuZCIsInVuZGVmaW5lZCIsImRvZXNVc2VyRXhpc3QiLCJnZXRVc2VyQnlJRCIsInVzZXIiLCJhZGRVc2VyRnVuZCIsImNvbXBhbnlOYW1lIiwiZG9lc0NvbXBhbnlFeGlzdCIsImdldENvbXBhbnlCeU5hbWUiLCJ1c2VyRnVuZCIsImNvbXBhbnlQcmljZSIsIkJhbGFuY2UiLCJQcmljZSIsImRlZHVjdFVzZXJGdW5kIiwiaXNTdWNjZXNzIiwiYWRkQ29tcGFueVRvVXNlciIsImdldFVzZXJDb21wYW55QnlJRCIsImRlbGV0Q29tcGFueUZyb21Vc2VyIiwiY29tcGFuaWVzIiwiZ2V0VXNlckNvbXBhbmllcyIsImdldHVzZXJGdW5kIiwiZ2V0VXNlckZ1bmRCeVVzZXJJRCIsImlkIiwiSUQiLCJnZXRDb21wYW55QnlJRCIsImdldEZ1bmRCeUNvbXBhbnlOYW1lIiwibGlzdGVuIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IjB2aEJBZVk7MkZBZlosS0FBTUEsQ0FBQUEsT0FBTywwQkFBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBVixDQUFiLENBQ0EsS0FBTUMsQ0FBQUEsR0FBRywwQkFBR0YsT0FBTyxFQUFWLENBQVQsQ0FDQSxLQUFNRyxDQUFBQSxVQUFVLDBCQUFHRixPQUFPLENBQUMsYUFBRCxDQUFWLENBQWhCLENBQ0EsS0FB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NEJBQUUsS0FBTWlCLENBQUFBLG9CQUFvQixDQUFDbEIsTUFBRCxDQUFRTyxXQUFSLENBQTVCLENBQVIsQ0FMMkMsMEJBTTNDdEIsT0FBTyxDQUFDQyxHQUFSLENBQWEscUJBQUQsQ0FBd0JlLElBQXBDLEVBTjJDLDBCQU8zQ2pCLEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JOLElBQWhCLENBQXFCLENBQUMsVUFBVSw0QkFBWCxDQUF3QyxjQUFlRSxHQUFHLENBQUNnQixJQUEzRCxDQUFyQixFQUNILENBUkQsRUFVQSxRQUFTaUIsQ0FBQUEsZ0JBQVQsQ0FBMEJoQixNQUExQixDQUFpQ08sV0FBakMsQ0FBNkMsb0RBQ3pDdEIsT0FBTyxDQUFDQyxHQUFSLENBQWEscUJBQWIsRUFEeUMsMEJBRXpDLE1BQU9ULENBQUFBLEVBQUUsQ0FBQ3VDLGdCQUFILENBQW9CaEIsTUFBcEIsQ0FBMkJPLFdBQTNCLENBQVAsQ0FDSCxDQUVELFFBQVNXLENBQUFBLG9CQUFULENBQThCbEIsTUFBOUIsQ0FBcUNPLFdBQXJDLENBQWlELG9EQUM3Q3RCLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLHdCQUFiLEVBRDZDLDBCQUU3QyxNQUFPVCxDQUFBQSxFQUFFLENBQUN5QyxvQkFBSCxDQUF3QmxCLE1BQXhCLENBQStCTyxXQUEvQixDQUFQLENBQ0gsQywwQkFFRGpDLEdBQUcsQ0FBQ3FELE1BQUosQ0FBV25ELElBQVgsQ0FBaUIsSUFBTSxvREFDckJTLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLDZDQUE0Q1YsSUFBSyxFQUE5RCxFQUNELENBRkQsRSwwQkFJQW9ELE1BQU0sQ0FBQ0MsT0FBUCxDQUFldkQsR0FBZiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJylcclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5jb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTtcclxuY29uc3QgcG9ydCA9IDMwMTBcclxuY29uc3QgZGIgPSByZXF1aXJlKFwiLi9kYi9DUlVEb3BlcmF0aW9uc1wiKTtcclxuXHJcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHtleHRlbmRlZDpmYWxzZX0pKTtcclxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XHJcblxyXG4vL0Jhc2UgVVJMIHRvIGNoZWNrIFNlcnZlciBTdGF0dXMgXHJcbmFwcC5nZXQoJy8nLCAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGBCYXNlIFVSTCBIaXQgLSBTZXJ2ZXIgaXMgVVAgYW5kIFJ1bm5pbmcuYCk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChcIlNlcnZlciBpcyBVUCBhbmQgUnVubmluZy5cIik7XHJcbiAgfSlcclxuXHJcbiAgXHJcbi8vQmFzZSBVUkwgdG8gY2hlY2sgU2VydmVyIFN0YXR1cyBcclxuYXBwLmdldCgnL2RhdGUnLCAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGBCYXNlIFVSTCBIaXQgLSBTZXJ2ZXIgaXMgVVAgYW5kIFJ1bm5pbmcuYCk7XHJcbiAgICBjb25zb2xlLmxvZyhjaGVja1RpbWUoKSk7XHJcbiAgICBpZihjaGVja1RpbWUoKSl7XHJcbiAgICBjb25zb2xlLmxvZyhgQmFzZSBVUkwgSGl0IC0gU2VydmVyIGlzIFVQIGFuZCBSdW5uaW5nLmAgKyBjaGVja1RpbWUoKSk7XHJcbiAgICB9XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XCIxXCI6XCIxXCJ9KTtcclxuICB9KVxyXG5cclxuXHJcblxyXG4gLy9GdW5jdGlvbiB0byBjaGVjayA5IHRvIDUgV2Vla2RheSBcclxuZnVuY3Rpb24gY2hlY2tUaW1lKCl7XHJcbiAgICBsZXQgY3VycmVudERhdGU9bmV3IERhdGUoKTtcclxuICAgIHZhciBjdXJyZW50RGF5ID0gY3VycmVudERhdGUuZ2V0RGF5KCk7XHJcbiAgICB2YXIgY3VycmVudEhvdXIgPSBjdXJyZW50RGF0ZS5nZXRIb3VycygpO1xyXG4gICAgY29uc29sZS5sb2coXCJpcyBXZWVrIERheSA/IFwiK2N1cnJlbnREYXkgKyBcIiBcIitjdXJyZW50SG91cilcclxuICAgIHZhciBpc1ZhbGlkRGF5ID0gKGN1cnJlbnREYXkgPjIpIHx8IChjdXJyZW50RGF5ICA8Nik7IC8vIDYgPSBTYXR1cmRheSwgMCA9IFN1bmRheVxyXG4gICAgY29uc29sZS5sb2coXCJpcyBXZWVrIERheSA/IFwiK2lzVmFsaWREYXkpXHJcbiAgICBpc1ZhbGlkVGltZT0gY3VycmVudEhvdXI+OSAmJiBjdXJyZW50SG91cjwyNDtcclxuICAgIGNvbnNvbGUubG9nKFwiaXMgOS01ID8gXCIraXNWYWxpZFRpbWUpXHJcbiAgICByZXR1cm4gKGlzVmFsaWRUaW1lICYmIGlzVmFsaWREYXkgKTtcclxufVxyXG5cclxuLy9GdW5jdGlvbmFsaXR5IHRvIEFkZCBmdW5kcyBcclxuLyogMS5SZXF1ZXN0IG11c3QgaGF2ZSBVc2VyIGlkIGFuZCB2YWxpZCBGdW5kIHZhbHVlLlxyXG4gICAyLkZ1bmRzIGNhbid0IGJlIG5lZ2F0aXZlLlxyXG4qL1xyXG5hcHAucG9zdCgnL2FkZEZ1bmQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuaWYoY2hlY2tUaW1lKCkpe1xyXG4gICAgY29uc29sZS5sb2coJ1JlcXVlc3RlZCBVc2VyIElEID0nICsgcmVxLmJvZHkudXNlcklEKTtcclxuICAgIGNvbnNvbGUubG9nKCdSZXF1ZXN0ZWQgVXNlciBmdW5kID0gJyArIHJlcS5ib2R5LmZ1bmQpO1xyXG4gICAgbGV0IHVzZXJJRD1yZXEuYm9keS51c2VySUQ7XHJcbiAgICBsZXQgZnVuZD1yZXEuYm9keS5mdW5kO1xyXG4gICAgaWYgKHVzZXJJRCE9dW5kZWZpbmVkICYmIGZ1bmQhPXVuZGVmaW5lZCAgJiYgZnVuZCA+IDAgKXtcclxuICAgICAgIGNvbnNvbGUubG9nKCdWYWxpZCBSZXF1ZXN0IGFuZCBQYXJhbWV0ZXIsIENoZWNraW5nIHRoZSBVc2VyIElEIGluIERhdGFiYXNlLicpO1xyXG4gICAgICAgY29uc3QgZG9lc1VzZXJFeGlzdD1hd2FpdCBnZXRVc2VyQnlJRCh1c2VySUQpO1xyXG4gICAgICAgY29uc29sZS5sb2coZG9lc1VzZXJFeGlzdCk7XHJcbiAgICAgICBjb25zb2xlLmxvZygnVXBkYXRpbmcgVXNlciB3aXRoIFVzZXIgSUQ6JyArIHVzZXJJRCArICcgQWRkaW5nIEZ1bmRzICcgKyBkb2VzVXNlckV4aXN0WzBdKTtcclxuICAgICAgICBpZihkb2VzVXNlckV4aXN0WzBdICE9dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1VwZGF0aW5nIFVzZXIgd2l0aCBVc2VyIElEOicgKyB1c2VySUQgKyAnIEFkZGluZyBGdW5kcyAnICsgZnVuZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXI9YXdhaXQgYWRkVXNlckZ1bmQodXNlcklELGZ1bmQpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7dXNlcn0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7XCJlcnJvclwiOlwiTm8gVXNlciB3aXRoIHRoaXMgVXNlciBJRFwiLFwicmVxdWVzdEJvZHlcIjogcmVxLmJvZHl9KTsgIFxyXG4gICAgICAgIH1cclxuICAgIH1lbHNlIGlmIChmdW5kPDApe1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcImVycm9yXCI6XCJGdW5kIHZhbHVlIGNhbiBub3QgYmUgbmVnYXRpdmVcIixcInJlcXVlc3RCb2R5XCI6IHJlcS5ib2R5fSk7ICBcclxuICAgIH1lbHNle1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcImVycm9yXCI6XCJSZXF1ZXN0IGhhcyBpbmNvcnJlY3QgcGFyYW1ldGVyc1wiLFwicmVxdWVzdEJvZHlcIjogcmVxLmJvZHl9KTsgIFxyXG4gICAgfVxyXG59XHJcbmVsc2V7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7XCJlcnJvclwiOlwiTWFya2V0IGlzIG9wZW4gZHVyaW5nIE1vbi1GcmkgLDkgQU0gLTUgUE1cIixcInJlcXVlc3RCb2R5XCI6IHJlcS5ib2R5fSk7ICBcclxufSB9KVxyXG5cclxuLy9BUEkgdG8gQnV5IGEgY29tcGFueVxyXG4vKiAxLlZhbGlkIFVzZXIgaWQgXHJcbiAgIDIuVmFsaWQgQ29tcGFueSBOYW1lXHJcbiAgIDMuRnVuZHMgU2hvdWxkIGJlIGVub3VnaCBmb3IgY29tcGFueSAqL1xyXG5cclxuYXBwLnBvc3QoJy9idXlFcXVpdHknLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuaWYoY2hlY2tUaW1lKCkpe1xyXG4gICAgY29uc29sZS5sb2coJ1JlcXVlc3RlZCBVc2VyIElEID0gJyArIHJlcS5ib2R5LnVzZXJJRCk7XHJcbiAgICBjb25zb2xlLmxvZygnUmVxdWVzdGVkIENvbXBhbnkgTmFtZSA9ICcgKyByZXEuYm9keS5jb21wYW55TmFtZSk7XHJcbiAgICBsZXQgdXNlcklEPXJlcS5ib2R5LnVzZXJJRDtcclxuICAgIGxldCBjb21wYW55TmFtZT1yZXEuYm9keS5jb21wYW55TmFtZTtcclxuICAgIGlmICh1c2VySUQhPXVuZGVmaW5lZCAmJiBjb21wYW55TmFtZSE9dW5kZWZpbmVkICl7XHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgQ29tcGFueSBhbmQgVXNlciBleGlzdCBpbiBkYXRhYmFzZVxyXG4gICAgICAgIGNvbnN0IGRvZXNDb21wYW55RXhpc3Q9YXdhaXQgZ2V0Q29tcGFueUJ5TmFtZShjb21wYW55TmFtZSk7XHJcbiAgICAgICAgY29uc3QgZG9lc1VzZXJFeGlzdD1hd2FpdCBnZXRVc2VyQnlJRCh1c2VySUQpO1xyXG4gICAgICAgIGxldCB1c2VyRnVuZDtcclxuICAgICAgICBsZXQgY29tcGFueVByaWNlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdGaW5kaW5nIFVzZXIgd2l0aCBVc2VyIElEOicgKyB1c2VySUQgKyAnIEFkZGluZyBDb21wYW55ICcgKyBjb21wYW55TmFtZSk7XHJcbiAgICAgICAgaWYoZG9lc0NvbXBhbnlFeGlzdFswXT09dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvbXBhbnkgSUQgZG9lcyBub3QgZXhpc3QgaW4gRGF0YWJhc2UnKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe1wiZXJyb3JcIjpcIk5vIENvbXBhbnkgd2l0aCByZXF1ZXN0ZWQgSURcIixcInJlcXVlc3RCb2R5XCI6IHJlcS5ib2R5fSk7ICBcclxuICAgICAgICB9ZWxzZSBpZiAoZG9lc1VzZXJFeGlzdFswXT09dW5kZWZpbmVkICl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBVc2VyIHdpdGggdGhpcyBJRCBleGlzdCBpbiBEYXRhYmFzZScpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7XCJlcnJvclwiOlwiTm8gVXNlciB3aXRoIHJlcXVlc3RlZCBJRFwiLFwicmVxdWVzdEJvZHlcIjogcmVxLmJvZHl9KTsgIFxyXG4gICAgICAgIH1lbHNlIGlmIChkb2VzQ29tcGFueUV4aXN0IT11bmRlZmluZWQgJiYgZG9lc1VzZXJFeGlzdCE9dW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1ZhbGlkIFVzZXIgSUQ6JyArIHVzZXJJRCArICcgYW5kIENvbXBhbnkgd2l0aCBuYW1lICcgKyBjb21wYW55TmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDaGVja2luZyBVc2VyIEZ1bmQgd2l0aCBVc2VyIElEOicgKyBkb2VzVXNlckV4aXN0WzBdLkJhbGFuY2UgKyAnd2l0aCBDb21wYW55IFByaWNlJyArIGRvZXNDb21wYW55RXhpc3RbMF0uUHJpY2UgKTtcclxuICAgICAgICAgICAgdXNlckZ1bmQ9ZG9lc1VzZXJFeGlzdFswXS5CYWxhbmNlO1xyXG4gICAgICAgICAgICBjb21wYW55UHJpY2U9ZG9lc0NvbXBhbnlFeGlzdFswXS5QcmljZSA7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDaGVja2luZyBVc2VyIEZ1bmQgQnkgVXNlcmlkID0gJysgdXNlckZ1bmQgK1wiLENvbXBhbnkgUHJpY2UgPVwiK2RvZXNDb21wYW55RXhpc3RbMF0uUHJpY2UgKTtcclxuICAgICAgICAgICAgaWYodXNlckZ1bmQ8Y29tcGFueVByaWNlKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIGZ1bmQgaXMgbGVzcyB0aGFuIGNvbXBhbnkgUHJpY2UgJyk7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7XCJlcnJvclwiOlwiVXNlciBmdW5kIGlzIG5vdCBlbm91Z2ggXCIsXCJyZXF1ZXN0Qm9keVwiOiByZXEuYm9keX0pOyAgXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgaGFzIGVub3VnaCBmdW5kIHRvIGJ1eSBlcXVpdHknKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXI9YXdhaXQgZGVkdWN0VXNlckZ1bmQodXNlcklELGNvbXBhbnlQcmljZSk7XHJcbiAgICAgICAgICAgICAgICAvL0FkZCBjb21wbmF5IHRvIHVzZXIgQ29tcGFuaWVzLlxyXG4gICAgICAgICAgICAgICAgbGV0IGlzU3VjY2VzcyA9YXdhaXQgYWRkQ29tcGFueVRvVXNlcih1c2VySUQsY29tcGFueU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEFkZGRpbmcgY29tcGFueSB0byB1c2VyYCArIGlzU3VjY2Vzcyk7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XCJTdWNjZXNzXCI6XCJSZXF1ZXN0IGhhcyBiZWVuIHByb2Nlc3NlZFwiLFwicmVxdWVzdEJvZHlcIjogcmVxLmJvZHl9KTsgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ICAgICAgIFxyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe1wiZXJyb3JcIjpcIlJlcXVlc3QgaGFzIGluY29ycmVjdCBwYXJhbWV0ZXJzXCIsXCJyZXF1ZXN0Qm9keVwiOiByZXEuYm9keX0pOyAgXHJcbiAgICB9fVxyXG5lbHNle1xyXG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe1wiZXJyb3JcIjpcIk1hcmtldCBpcyBvcGVuIGR1cmluZyBNb24tRnJpICw5IEFNIC01IFBNXCIsXCJyZXF1ZXN0Qm9keVwiOiByZXEuYm9keX0pOyAgXHJcbiAgICB9XHJcbiAgfSkgXHJcblxyXG4vL0FQSSB0byBzZWxsIGEgY29tcGFueVxyXG4vKiAxLlZhbGlkIFVzZXIgaWQgXHJcbiAgIDIuVXNlciBTaG91bGQgaGF2ZSBDb21wYW55IHRvIHNlbGxcclxuKi9cclxuXHJcbmFwcC5wb3N0KCcvc2VsbEVxdWl0eScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ1JlcXVlc3RlZCBVc2VyIElEID0gJyArIHJlcS5ib2R5LnVzZXJJRCk7XHJcbiAgICBjb25zb2xlLmxvZygnUmVxdWVzdGVkIENvbXBhbnkgTmFtZSA9ICcgKyByZXEuYm9keS5jb21wYW55TmFtZSk7XHJcbiAgICBsZXQgdXNlcklEPXJlcS5ib2R5LnVzZXJJRDtcclxuICAgIGxldCBjb21wYW55TmFtZT1yZXEuYm9keS5jb21wYW55TmFtZTtcclxuICAgIGlmICh1c2VySUQhPXVuZGVmaW5lZCAmJiBjb21wYW55TmFtZSE9dW5kZWZpbmVkICl7XHJcbiAgICAgICAgIC8vIENoZWNraW5nIGlmIENvbXBhbnkgYW5kIHVzZXIgRXhpc3RcclxuICAgICAgICAgY29uc3QgZG9lc0NvbXBhbnlFeGlzdD1hd2FpdCBnZXRVc2VyQ29tcGFueUJ5SUQoY29tcGFueU5hbWUpO1xyXG4gICAgICAgICBjb25zdCBkb2VzVXNlckV4aXN0PWF3YWl0IGdldFVzZXJCeUlEKHVzZXJJRCk7XHJcbiAgICAgICAgIGxldCB1c2VyRnVuZDtcclxuICAgICAgICAgbGV0IGNvbXBhbnlQcmljZTtcclxuICAgICAgICAgY29uc29sZS5sb2coJ0ZpbmRpbmcgVXNlciB3aXRoIFVzZXIgSUQ6JyArIHVzZXJJRCArICcgYW5kIENvbXBhbnkgYnkgTmFtZSAnICsgY29tcGFueU5hbWUpO1xyXG4gICAgICAgICBpZihkb2VzVXNlckV4aXN0WzBdPT11bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gVXNlciB3aXRoIHRoaXMgSUQgZXhpc3QgaW4gRGF0YWJhc2UnKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe1wiZXJyb3JcIjpcIk5vIFVzZXIgd2l0aCByZXF1ZXN0ZWQgSURcIixcInJlcXVlc3RCb2R5XCI6IHJlcS5ib2R5fSk7ICBcclxuICAgICAgICB9ZWxzZSBpZiAoZG9lc0NvbXBhbnlFeGlzdFswXT09dW5kZWZpbmVkICl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIGRvZXNudCBoYXZlIHRoaXMgY29tcGFueSBpbiBoaXMgbGlzdCBzbyBoZSBjYW50IHNlbGwgdGhpcycpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7XCJlcnJvclwiOlwiTm8gQ29tcGFueSB3aXRoIHJlcXVlc3RlZCBJRFwiLFwicmVxdWVzdEJvZHlcIjogcmVxLmJvZHl9KTsgIFxyXG4gICAgICAgICB9ZWxzZSBpZiAoZG9lc0NvbXBhbnlFeGlzdCE9dW5kZWZpbmVkICYmIGRvZXNVc2VyRXhpc3QhPXVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdWYWxpZCBVc2VyIElEOicgKyB1c2VySUQgKyAnIGFuZCBDb21wYW55IHdpdGggbmFtZSAnICsgY29tcGFueU5hbWUpOyBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBjb21wYW55IGZyb20gdXNlciBMaXN0XHJcbiAgICAgICAgICAgIGxldCBpc1N1Y2Nlc3M9YXdhaXQgZGVsZXRDb21wYW55RnJvbVVzZXIodXNlcklELGNvbXBhbnlOYW1lKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1wiU3VjY2Vzc1wiOlwiUmVxdWVzdCBoYXMgYmVlbiBwcm9jZXNzZWRcIixcInJlcXVlc3RCb2R5XCI6IHJlcS5ib2R5fSk7ICBcclxuICAgICAgICAgfSAgICAgICBcclxuICAgIH1lbHNle1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcImVycm9yXCI6XCJSZXF1ZXN0IGhhcyBpbmNvcnJlY3QgcGFyYW1ldGVyc1wiLFwicmVxdWVzdEJvZHlcIjogcmVxLmJvZHl9KTsgIFxyXG4gICAgfVxyXG4gIH0pIFxyXG5cclxuYXBwLmdldCgnL3VzZXJDb21wYW5pZXMnLGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYEdldHRpbmcgYWxsIHRoZSByZWNvcmRzYCk7XHJcbiAgICBjb25zdCBjb21wYW5pZXM9ICBhd2FpdCBkYi5nZXRVc2VyQ29tcGFuaWVzKCk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7Y29tcGFuaWVzfSk7XHJcbiAgfSkgIFxyXG4gXHJcbmFwcC5nZXQoJy91c2VyRnVuZCcsYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhgR2V0dGluZyBhbGwgdGhlIHJlY29yZHNgKTtcclxuICAgIGNvbnN0IHVzZXJGdW5kPSAgYXdhaXQgZGIuZ2V0dXNlckZ1bmQoKTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHt1c2VyRnVuZH0pO1xyXG4gIH0pICBcclxuXHJcbi8vRnVuY3Rpb24gdG8gZ2V0IFVzZXIgRnVuZFxyXG5mdW5jdGlvbiBnZXRVc2VyRnVuZEJ5VXNlcklEKGlkKXtcclxuICAgIGNvbnNvbGUubG9nKGBGdW5jdGlvbiBnZXRVc2VyRnVuZEJ5VXNlcklEIGNhbGxlZGApO1xyXG4gICAgcmV0dXJuIGRiLmdldFVzZXJCeUlEKGlkKTtcclxufVxyXG5cclxuLy9GdW5jdGlvbiB0byBjaGVjayBpZiBhIHVzZXIgZXhpdHMgb3Igbm90IGluIERCIFxyXG5mdW5jdGlvbiBnZXRVc2VyQnlJRChpZCl7XHJcbiAgICBjb25zb2xlLmxvZyhgRnVuY3Rpb24gZ2V0VXNlckJ5SUQgY2FsbGVkYCk7XHJcbiAgICByZXR1cm4gZGIuZ2V0VXNlckJ5SUQoaWQpO1xyXG59XHJcblxyXG4vL0FkZCBGdW5kcyB0byBVc2VyIEJhbGFuY2VcclxuZnVuY3Rpb24gYWRkVXNlckZ1bmQoSUQsZnVuZCl7XHJcbiAgICBjb25zb2xlLmxvZyhgRnVuY3Rpb24gYWRkVXNlckZ1bmQgY2FsbGVkYCsgSUQrIGZ1bmQgKTtcclxuICAgIHJldHVybiBkYi5hZGRVc2VyRnVuZChJRCxmdW5kKTtcclxufVxyXG5cclxuLy9EZWR1Y3QgRnVuZHMgZnJvbSBVc2VyIEJhbGFuY2VcclxuZnVuY3Rpb24gZGVkdWN0VXNlckZ1bmQoSUQsZnVuZCl7XHJcbiAgICBjb25zb2xlLmxvZyhgRnVuY3Rpb24gZGVkdWN0VXNlckZ1bmQgY2FsbGVkYCk7XHJcbiAgICByZXR1cm4gZGIuZGVkdWN0VXNlckZ1bmQoSUQsZnVuZCk7XHJcbn1cclxuXHJcbi8vRnVuY3Rpb24gdG8gY2hlY2sgaWYgYSBjb21wYW55IGV4aXRzIG9yIG5vdCBpbiBEQiBcclxuZnVuY3Rpb24gZ2V0Q29tcGFueUJ5TmFtZShjb21wYW55TmFtZSl7XHJcbiAgICBjb25zb2xlLmxvZyhgRnVuY3Rpb24gZ2V0Q29tcGFueUJ5SUQgY2FsbGVkYCk7XHJcbiAgICByZXR1cm4gZGIuZ2V0Q29tcGFueUJ5SUQoY29tcGFueU5hbWUpO1xyXG59XHJcblxyXG4vL0Z1bmN0aW9uIHRvIGNoZWNrIGlmIGEgdXNlciBoYXMgdGhlIGNvbXBhbnkgdG8gc2VsbFxyXG5mdW5jdGlvbiBnZXRVc2VyQ29tcGFueUJ5SUQoY29tcGFueU5hbWUpe1xyXG4gICAgY29uc29sZS5sb2coYEZ1bmN0aW9uIGdldENvbXBhbnlCeUlEVXNlckNvbXBhbmllcyBjYWxsZWRgKTtcclxuICAgIHJldHVybiBkYi5nZXRVc2VyQ29tcGFueUJ5SUQoY29tcGFueU5hbWUpO1xyXG59XHJcblxyXG4vLyBGdW5jdGlvbiB0byBnZXQgZnVuZCBvZiBhIGNvbXBhbnlcclxuZnVuY3Rpb24gZ2V0RnVuZEJ5Q29tcGFueU5hbWUoY29tcGFueU5hbWUpe1xyXG4gICAgY29uc29sZS5sb2coYEdldCBGdW5kIEJ5IENvbXBhbnkgRnVuY3Rpb25gKTtcclxuICAgIHJldHVybiBkYi5nZXRGdW5kQnlDb21wYW55TmFtZShjb21wYW55TmFtZSk7XHJcbn1cclxuXHJcbmFwcC5wb3N0KCcvZGVsZXRlQ29tcGFueScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ1JlcXVlc3RlZCBVc2VyIElEID0nICsgcmVxLmJvZHkudXNlcklEKTtcclxuICAgIGNvbnNvbGUubG9nKCdSZXF1ZXN0ZWQgVXNlciBmdW5kID0gJyArIHJlcS5ib2R5LmNvbXBhbnlOYW1lKTtcclxuICAgIGxldCB1c2VySUQ9cmVxLmJvZHkudXNlcklEO1xyXG4gICAgbGV0IGNvbXBhbnlOYW1lPXJlcS5ib2R5LmNvbXBhbnlOYW1lO1xyXG4gICAgbGV0IGZ1bmQgPWF3YWl0IGRlbGV0Q29tcGFueUZyb21Vc2VyKHVzZXJJRCxjb21wYW55TmFtZSk7XHJcbiAgICBjb25zb2xlLmxvZyhgQWRkIGNvbXBhbnkgdG8gdXNlcmAgKyBmdW5kKTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcIlN1Y2Nlc3NcIjpcIlJlcXVlc3QgaGFzIGJlZW4gcHJvY2Vzc2VkXCIsXCJyZXF1ZXN0Qm9keVwiOiByZXEuYm9keX0pOyAgXHJcbn0pXHJcblxyXG5mdW5jdGlvbiBhZGRDb21wYW55VG9Vc2VyKHVzZXJJRCxjb21wYW55TmFtZSl7XHJcbiAgICBjb25zb2xlLmxvZyhgQWRkIGNvbXBhbnkgdG8gdXNlcmApO1xyXG4gICAgcmV0dXJuIGRiLmFkZENvbXBhbnlUb1VzZXIodXNlcklELGNvbXBhbnlOYW1lKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGVsZXRDb21wYW55RnJvbVVzZXIodXNlcklELGNvbXBhbnlOYW1lKXtcclxuICAgIGNvbnNvbGUubG9nKGBEZWxldGUgY29tcGFueSB0byB1c2VyYCk7XHJcbiAgICByZXR1cm4gZGIuZGVsZXRDb21wYW55RnJvbVVzZXIodXNlcklELGNvbXBhbnlOYW1lKTtcclxufVxyXG5cclxuYXBwLmxpc3Rlbihwb3J0LCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coYEV4YW1wbGUgYXBwIGxpc3RlbmluZyBhdCBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH1gKVxyXG59KVxyXG5cclxubW9kdWxlLmV4cG9ydHM9YXBwOyJdfQ==